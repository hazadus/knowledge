–°—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤–∏–¥–æ–≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∏ –Ω–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤:

- **–Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã** ‚Äî —Ç–µ—Å—Ç–∏—Ä—É—é—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —á–∞—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ (—Ñ—É–Ω–∫—Ü–∏—é –∏–ª–∏ –º–µ—Ç–æ–¥—ã) –≤ –ø–æ–ª–Ω–æ–π –∏–∑–æ–ª—è—Ü–∏–∏ –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –ü–æ —Å—É—Ç–∏, —Ç–µ—Å—Ç–∏—Ä—É—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–µ –Ω–µ–±–æ–ª—å—à–∏–µ –∫—É—Å–æ—á–∫–∏ –∫–æ–¥–∞.
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** ‚Äî —Ç–µ—Å—Ç–∏—Ä—É—é—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫—Ä—É–ø–Ω—ã—Ö —á–∞—Å—Ç–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä —Å–∏—Å—Ç–µ–º –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤ –∏ –æ–ø–ª–∞—Ç—ã.
- **End-to-end-—Ç–µ—Å—Ç—ã** ‚Äî —Ç–µ—Å—Ç–∏—Ä—É—é—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã.
- **–ú—É—Ç–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** ‚Äî —Ç–µ—Å—Ç–∏—Ä—É—é—Ç –∫–æ–¥ –Ω–∞ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Å–ª—É—á–∞–π–Ω—ã–º –∏–∑–º–µ–Ω–µ–Ω–∏—è–º.
- **–ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã** ‚Äî –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏, –∫–æ—Ç–æ—Ä—É—é —Å–∏—Å—Ç–µ–º–∞ —Å–ø–æ—Å–æ–±–Ω–∞ –≤—ã–¥–µ—Ä–∂–∞—Ç—å —Å –¥–æ–ø—É—Å—Ç–∏–º—ã–º —É—Ä–æ–≤–Ω–µ–º –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏.

> [!NOTE]
> –ù–∞–ø–æ–º–Ω–∏–º, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞, —Ç–æ –µ—Å—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º. –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ) –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–æ–¥–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏, –∫–∞—á–µ—Å—Ç–≤–∞, —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—è –∏ —Ç. –ø.
> 

–°–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ–º—Å—è –Ω–∞ —é–Ω–∏—Ç-—Ç–µ—Å—Ç–∞—Ö, –ø–æ—Ç–æ–º—É —á—Ç–æ:

- –≠—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤–∏–¥ —Ç–µ—Å—Ç–æ–≤.
- –ü—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ–¥—Ö–æ–¥–µ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —Ç–∞–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤ –≤ –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ –±—É–¥–µ—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ.
- –¢–µ—Ö–Ω–∏–∫–∏ –∏ –ø—Ä–∏—ë–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ –∏—Ö –ø—Ä–∏–º–µ—Ä–µ, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ –≤ –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–∞—Ö —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤.

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä–∏–π —è–∑—ã–∫–∞ Go, –ø–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–π –≤–º–µ—Å—Ç–µ —Å –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º, –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –æ–±—à–∏—Ä–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –ë—É–¥–µ–º —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏–º–µ–Ω–Ω–æ –∏—Ö.

## –ì–¥–µ —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –≤ Go?

–í Go –≤—Å–µ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –≤ —Ñ–∞–π–ª–∞—Ö —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º `_test.go`: –Ω–∞–ø—Ä–∏–º–µ—Ä, `user_test.go`. –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –ø—Ä–∏–Ω—è—Ç–æ —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å —Ä—è–¥–æ–º —Å —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–º –∫–æ–¥–æ–º. –§–∞–π–ª—ã `user.go` –∏ `user_test.go` –æ–±—ã—á–Ω–æ –ª–µ–∂–∞—Ç –≤ –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.

–§–∞–π–ª—ã `*_test.go` –Ω–µ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞, –ø–æ—ç—Ç–æ–º—É –º–æ–∂–Ω–æ –Ω–µ –±–æ—è—Ç—å—Å—è –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –Ω–∏—Ö –±–æ–ª—å—à–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤—Ä–æ–¥–µ `stretchr/testify`.

–¢–µ–º –Ω–µ –º–µ–Ω–µ–µ –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤, –∫–∞–∫ –∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–¥–∞, –∑–∞–ø—Ä–µ—â–µ–Ω—ã —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã. –û–¥–Ω–∞–∫–æ –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤ –æ–Ω–∏ –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–∞—Ç—å —á–∞—Å—Ç–æ, –ø–æ—Å–∫–æ–ª—å–∫—É –≤ —Ç–µ—Å—Ç–∞—Ö –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–≥–æ –∫–æ–¥–∞. –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ —Ç–µ—Å—Ç—ã –±—É–¥—É—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–≥–æ –∫–æ–¥–∞ –∏, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∞–º–∏ —Å–µ–±—è. –ü–æ—ç—Ç–æ–º—É –¥–ª—è —Ç–µ—Å—Ç–æ–≤ —Å–¥–µ–ª–∞–ª–∏ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∏–∑ –ø—Ä–∞–≤–∏–ª–∞ ¬´–æ–¥–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è ‚Äî –æ–¥–∏–Ω –ø–∞–∫–µ—Ç¬ª. –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –º–æ–≥—É—Ç —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –≤ –ø–∞–∫–µ—Ç–µ —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º `_test` ‚Äî –∏ —ç—Ç–æ–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ª—É—á—à–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è.

–¢–∞–∫–∂–µ –≤ –ø–∞–∫–µ—Ç–µ `_test` —Å—Ç–æ–∏—Ç —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å –∫–æ–¥, –Ω—É–∂–Ω—ã–π –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤. –î–æ–ø—É—Å—Ç–∏–º, –Ω–∞–¥–æ —Å–¥–µ–ª–∞—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π —Ç–∏–ø –ø—É–±–ª–∏—á–Ω—ã–º –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –∫–ª–∞—Å—Å –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤. –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª (—á–∞—Å—Ç–æ –µ–≥–æ –Ω–∞–∑—ã–≤–∞—é—Ç `harness_test.go` –∏–ª–∏ `common_test`) –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

```go
package user

import "context"

type UserDAO = userDAO

func (p *userProvider) ResetAllCaches(ctx context.Context) error {
    // —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –∫–µ—à–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
} 
```

## –¢–µ—Å—Ç—ã –≤ Go

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –≤—ã –∑–Ω–∞–µ—Ç–µ, –≥–¥–µ –∏ –∫–∞–∫ —Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–¥, –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ —Ç–æ–º, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –Ω–∞ Go.

–í Go –≤—Å–µ —Ç–µ—Å—Ç—ã ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∏–¥–∞:

```go
func TestXxx(t *testing.T) 
```

–ü—Ä–µ—Ñ–∏–∫—Å `Test` –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω. –í –∫–∞—á–µ—Å—Ç–≤–µ `Xxx` –æ–±—ã—á–Ω–æ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. –£ –∫–∞–∂–¥–æ–π —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤, –∏ —Ç–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —Ç–µ—Å—Ç—É.

–î–ª—è –ø—Ä–∏–º–µ—Ä–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é `Add`, –∫–æ—Ç–æ—Ä–∞—è –¥–æ–ª–∂–Ω–∞ —Å–ª–æ–∂–∏—Ç—å –¥–≤–∞ —á–∏—Å–ª–∞ –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏, —á—Ç–æ –æ–Ω–∏ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ. –ï—Å–ª–∏ –æ–¥–Ω–æ –∏–ª–∏ –æ–±–∞ —á–∏—Å–ª–∞ —Ä–∞–≤–Ω—ã –Ω—É–ª—é, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–µ—Ä–Ω—É—Ç—å –æ—à–∏–±–∫—É.

–§–∞–π–ª `add.go`:

```go
package math

import "errors"

func Add(a, b int) (int, error) {
    if a == 0 || b ==  0 {
        return 0, errors.New("arg is zero")
    }
    
    if a < 0 || b < 0 {
        return 0, errors.New("arg is negative")
    } 
    return a + b, nil
} 
```

–§–∞–π–ª `add_test.go`:

```go
package math

import "testing"

func TestAddPositive(t *testing.T) {
    sum, err := Add(1, 2)
    if err != nil {
        t.Error("unexpected error")
    }
    if sum != 3 {
        t.Errorf("sum expected to be 3; got %d", sum)
    }
}


func TestAddNegative(t *testing.T) {
    _, err := Add(-1, 2)
    if err == nil {
        t.Error("first arg negative - expected error not be nil" )
    }
    _, err = Add(1, -2)
    if err == nil {
        t.Error("second arg negative - expected error not be nil" )
    }
    _, err = Add(-1, -2)
    if err == nil {
        t.Error("all arg negative - expected error not be nil" )
    }
}
```

–û–±—ä–µ–∫—Ç `*testing.T` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –±–∞–∑–æ–≤—ã–º –º–µ—Ç–æ–¥–∞–º:

- `Error`, `Errorf` ‚Äî –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ `error`-–ª–æ–≥ –∏ –ø–æ–º–µ—á–∞–µ—Ç —Ç–µ—Å—Ç –∫–∞–∫ –Ω–µ–ø—Ä–æ–π–¥–µ–Ω–Ω—ã–π. –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è.
- `Fatal`, `Fatalf` ‚Äî –¥–µ–ª–∞–µ—Ç —Ç–æ –∂–µ —Å–∞–º–æ–µ, –Ω–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫. –û—á–µ–Ω—å —É–¥–æ–±–µ–Ω –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ, –∫–æ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫–æ–π-—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —É—á–∞—Å—Ç–æ–∫ –∫–æ–¥–∞.
- `Skip`, `Skipf` ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è —Ç–µ—Å—Ç–∞ –Ω–µ –∑–∞–¥–∞–Ω–æ. –¢–∏–ø–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π ‚Äî –ø—Ä–æ–≥–æ–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ —Å –≤–Ω–µ—à–Ω–∏–º —Å–µ—Ä–≤–∏—Å–æ–º —Ç–æ–ª—å–∫–æ –Ω–∞ CI, –≥–¥–µ –∫ –Ω–µ–º—É –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø—ã.
- `Log`, `Logf` ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å –ª–æ–≥-—Å–æ–æ–±—â–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ —Ç–µ—Å—Ç–∞. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–¥ –º–µ—Ç–æ–¥–∞–º–∏ –ø–∞–∫–µ—Ç–∞ `fmt` –≤ —Ç–æ–º, —á—Ç–æ –∏–∑ –ª–æ–≥–∞ —Å—Ä–∞–∑—É –≤–∏–¥–Ω–æ, –∫ –∫–∞–∫–æ–º—É —Ç–µ—Å—Ç—É –æ—Ç–Ω–æ—Å–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ.
- `Run(name string, testf func(t *testing.T) )` ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ç–µ—Å—Ç–∞, —á—Ç–æ —É–¥–æ–±–Ω–æ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–ø—É—Å–∫–æ–≤ —Ç–µ—Å—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å —Ä–∞–∑–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏.

## go test

–¢–µ–ø–µ—Ä—å —Ä–∞–∑–±–µ—Ä—ë–º –∑–∞–ø—É—Å–∫ –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤. –î–ª—è —ç—Ç–æ–≥–æ –≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ Go –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ [go test](https://golang.org/cmd/go/#hdr-Test_packages). –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç—ã —Å–ª–µ–¥—É—é—â–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏:

1. –¢–µ—Å—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –ø–æ–ª–æ–∂–µ–Ω–∏—è –∫–æ–¥–∞ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏. –ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –≤ –Ω–µ—ë –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `go test` –∏–ª–∏ `go test -v`. –§–ª–∞–≥ `-v` –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ `stdout` –≤—Å—ë, —á—Ç–æ —Ç–µ—Å—Ç—ã –ª–æ–≥–∏—Ä—É—é—Ç –≤ `stdout` –∏ `stderr`.
2. –¢–µ—Å—Ç—ã –≤–æ –≤—Å–µ—Ö –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏: `go test ./...`
3. –í—Å–µ —Ç–µ—Å—Ç—ã –ø–∞–∫–µ—Ç–∞. –ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã –≤ –ø–∞–∫–µ—Ç–µ, —É—Ç–∏–ª–∏—Ç–µ `go test` –Ω–∞–¥–æ –ø–µ—Ä–µ–¥–∞—Ç—å –ø—É—Ç–∏ –∏–º–ø–æ—Ä—Ç–∞ —ç—Ç–∏—Ö –ø–∞–∫–µ—Ç–æ–≤, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª–∞–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä: `go test math github.com/username/packagename github.com/username/packagename2`.
4. –¢–µ—Å—Ç—ã, –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –ø–æ–¥ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ. –¢–∞–∫–∂–µ –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤ –ø–∞–∫–µ—Ç–∞. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–ª–∞–≥ `-run` —É—Ç–∏–ª–∏—Ç—ã `go test`.

–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ç–µ—Å—Ç-–∫–µ–π—Å—ã —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `TestFunc` –≤ –ø–∞–∫–µ—Ç–µ `github.com/ytuser/ytpackage`, –≤—ã–∑–æ–≤ –∫–æ–º–∞–Ω–¥—ã `go test` –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

```bash
go test github.com/ytuser/ytpackage -run ^TestFunc 
```

–í –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ, –ø–æ–¥ –∫–æ—Ç–æ—Ä–æ–µ –¥–æ–ª–∂–Ω—ã –ø–æ–¥—Ö–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤.

### –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

–ï—Å–ª–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∑–∞–ø—É—Å—Ç–∏–º –∫–æ–º–∞–Ω–¥—É `go test <PACKAGE_NAME>`, —Ç–æ —É–≤–∏–¥–∏–º, —á—Ç–æ –≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã –∏–∑–º–µ–Ω–∏–ª—Å—è. –í —Å–ª—É—á–∞–µ —Å –ø–∞–∫–µ—Ç–æ–º `math` –ø–æ–ª—É—á–∏–º:

```
ok      math    (cached) 
```

–î–µ–ª–æ –≤ —Ç–æ–º, —á—Ç–æ –≤ —Ä–µ–∂–∏–º–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–∞ `go test` –∫–µ—à–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≥–æ–Ω–∞ —Ç–µ—Å—Ç–æ–≤ –∏, –µ—Å–ª–∏ –∫–æ–¥ –∏ —Ç–µ—Å—Ç—ã –Ω–µ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–∞–∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

–û—Ç–∫–ª—é—á–∏—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–∂–Ω–æ –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏:

- –ü–µ—Ä–µ–¥–∞—Ç—å —Ñ–ª–∞–≥ `-count 1`, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–∞–∂–¥—ã–π —Ç–µ—Å—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî –æ–¥–∏–Ω). –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, `-count 1` –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—É—Å–∫–æ–≤ ‚Äî –µ—Å–ª–∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, ‚Äî –Ω–æ –≤—ã–∫–ª—é—á–∞–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ.
- –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `go test clear`, –æ—á–∏—â–∞—é—â—É—é –∫–µ—à.

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- `-cpu 1,2,4` ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≥–Ω–∞—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–∞–∑–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ—Ç–æ–∫–æ–≤. –ü—Ä–∏–≥–æ–¥–∏—Ç—Å—è, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∫–æ–¥ –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–∞ –º–∞—à–∏–Ω–∞—Ö —Å —Ä–∞–∑–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —è–¥–µ—Ä –æ–Ω –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.
- `-list regexp` ‚Äî –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç—ã, `go test` –≤—ã–≤–µ–¥–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª—å –∏–º–µ–Ω–∞ —Ç–µ—Å—Ç–æ–≤, –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –ø–æ–¥ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ.
- `-parallel n` ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ç–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤ —Ç–µ–ª–µ –≤—ã–∑—ã–≤–∞—é—Ç `t.Parallel`.
- `-run regexp` ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã.
- `-short` ‚Äî –µ—Å–ª–∏ —ç—Ç–æ—Ç —Ñ–ª–∞–≥ –ø–µ—Ä–µ–¥–∞–Ω, —Ç–æ `t.Short() == true`. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –º–æ–∂–Ω–æ –ª–∏–±–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã, –ª–∏–±–æ —É—Ä–µ–∑–∞—Ç—å –∏—Ö —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª.
- `-v` ‚Äî –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ. –î–∞–∂–µ –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ –≤–µ—Å—å –∏—Ö –ª–æ–≥ –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω –≤ –∫–æ–Ω—Å–æ–ª—å.

## –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞

–û–¥–Ω–∞ –∏–∑ –≤–∞–∂–Ω–µ–π—à–∏—Ö –º–µ—Ç—Ä–∏–∫ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ ‚Äî **—Å—Ç–µ–ø–µ–Ω—å –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏** (**test coverage**). –í Go –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —ç—Ç–æ–π –º–µ—Ç—Ä–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–ª–∞–≥ `-cover` —É—Ç–∏–ª–∏—Ç—ã `go test`, –ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ –∫–æ—Ç–æ—Ä–æ–º –º–æ–∂–Ω–æ –ø–æ—á–∏—Ç–∞—Ç—å –≤ [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º –±–ª–æ–≥–µ Go](https://blog.golang.org/cover).

–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —É–∑–Ω–∞—Ç—å —Å—Ç–µ–ø–µ–Ω—å –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏ –ø–∞–∫–µ—Ç–∞ `math` –∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –Ω–∞–¥–æ –≤—ã–∑–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É `go test math -cover`:

```
ok      math    0.003s    coverage: 86.8% of statements 
```

–û–ø—Ä–µ–¥–µ–ª–∏–º –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ —Ñ—É–Ω–∫—Ü–∏–∏ `Add` –∏–∑ –ø—Ä–∏–º–µ—Ä–∞ –≤—ã—à–µ:

```
% go test -cover
PASS
coverage: 80.0% of statements
ok      tests_06        0.233s 
```

–ù–æ –∑–Ω–∞–Ω–∏—è –æ–¥–Ω–æ–π —Ç–æ–ª—å–∫–æ –º–µ—Ç—Ä–∏–∫–∏ –∑–∞—á–∞—Å—Ç—É—é –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç, –∏ –Ω—É–∂–Ω–æ –≤—ã—è—Å–Ω–∏—Ç—å, –∫–∞–∫–∏–µ –∏–º–µ–Ω–Ω–æ —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞ –Ω–µ –±—ã–ª–∏ –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–Ω—ã –ø—Ä–∏ –ø—Ä–æ–≥–æ–Ω–µ —Ç–µ—Å—Ç–æ–≤. –≠—Ç–æ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ç–æ–∂–µ –∏–¥—ë—Ç ¬´–∏–∑ –∫–æ—Ä–æ–±–∫–∏¬ª –≤ –≤–∏–¥–µ —Ñ–ª–∞–≥–∞ `-coverprofile` —É—Ç–∏–ª–∏—Ç—ã `go test` –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π —É—Ç–∏–ª–∏—Ç—ã [go cover](https://golang.org/cmd/cover/) –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏.

–ò—Ç–∞–∫, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —É–∑–Ω–∞—Ç—å, –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ –∫–æ–¥ –ø–∞–∫–µ—Ç–∞ `math` –Ω–µ –±—ã–ª –ø–æ–∫—Ä—ã—Ç —Ç–µ—Å—Ç–∞–º–∏, –Ω–∞–¥–æ —Å–¥–µ–ª–∞—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ:

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞ –Ω—ë–º —É—Ç–∏–ª–∏—Ç—É `go test` –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏. –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å –ø—Ä–æ—Ñ–∏–ª–µ–º ‚Äî —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ–ª–∞–≥–∞ `-coverprofile`. –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —Å–æ—Ö—Ä–∞–Ω–∏–º –µ–≥–æ –≤ —Ñ–∞–π–ª `coverage.out` —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:

```bash
go test . -coverprofile=coverage.out 
```

2. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ñ–∞–π–ª —É—Ç–∏–ª–∏—Ç–æ–π `cover`. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–æ —Å–æ–±—Ä–∞–Ω–Ω–æ–º—É –ø—Ä–æ—Ñ–∏–ª—é –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å HTML-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–∑–º–µ—Ç–∫–æ–π, —Å–≤—è–∑–∞–Ω–Ω–æ–π —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º —Ç–µ—Å—Ç–∞–º–∏:

```bash
go tool cover -html=coverage.out 
```

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä, –≥–¥–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –ø–æ–∫—Ä—ã—Ç–∏—é.

![[Pasted image 20240901134108.png]]

## –£–¥–æ–±–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ú–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥, –∏—Å–ø–æ–ª—å–∑—É—è —Ç–æ–ª—å–∫–æ `*testing.T`, –Ω–æ –æ–Ω –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Ñ—É–Ω–∫—Ü–∏—è–º –≤—Ä–æ–¥–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ, –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç –æ—à–∏–±–∫–∏ –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ø–∞–Ω–∏–∫–∏ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ –∫–æ–ª–±—ç–∫–∞.

–≠—Ç–æ—Ç –ø—Ä–æ–±–µ–ª –∑–∞–ø–æ–ª–Ω—è—é—Ç —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, —Å—Ä–µ–¥–∏ –∫–æ—Ç–æ—Ä—ã—Ö —Å–∞–º–∞—è –ø–æ–ø—É–ª—è—Ä–Ω–∞—è ‚Äî [testify](https://github.com/stretchr/testify). –°–ª–µ–¥—É–µ—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –æ–Ω–∏ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –∑–∞–º–µ–Ω–æ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ `testing`, –∞ —Ä–∞—Å—à–∏—Ä—è—é—Ç –∏ –¥–æ–ø–æ–ª–Ω—è—é—Ç –µ–≥–æ.

- [testify](https://github.com/stretchr/testify) ‚Äî —ç—Ç–æ —à–≤–µ–π—Ü–∞—Ä—Å–∫–∏–π –Ω–æ–∂ –≤ –º–∏—Ä–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Go-–∫–æ–¥–∞. –ü–æ—ç—Ç–æ–º—É –ø–æ–≥–æ–≤–æ—Ä–∏–º –ø—Ä–æ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∞–∫–µ—Ç—ã –∏–∑ —ç—Ç–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ.
- [assert](https://pkg.go.dev/github.com/stretchr/testify/assert) ‚Äî –ø–∞–∫–µ—Ç, –≤ –∫–æ—Ç–æ—Ä–æ–º —Å–æ–±—Ä–∞–Ω–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —É–¥–æ–±–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —Å –≥–æ–≤–æ—Ä—è—â–∏–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏: –≤—Ä–æ–¥–µ `assert.Equal` –∏–ª–∏ `assert.Nil`. –ü—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –æ–±—ã—á–Ω—ã—Ö Go-—Ç–µ—Å—Ç–æ–≤ –≤–∏–¥–∞ `func TestXxx(t *testing.T)` (–ø—Ä–æ –Ω–µ–æ–±—ã—á–Ω—ã–µ –ø–æ–≥–æ–≤–æ—Ä–∏–º, –∫–æ–≥–¥–∞ –¥–æ–±–µ—Ä—ë–º—Å—è –¥–æ [suite](https://pkg.go.dev/github.com/stretchr/testify/suite)).
- [require](https://pkg.go.dev/github.com/stretchr/testify/require) ‚Äî —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ [assert](https://pkg.go.dev/github.com/stretchr/testify/assert), –Ω–æ –≤ —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–∑ —ç—Ç–æ–≥–æ –ø–∞–∫–µ—Ç–∞ –ø–∞–¥–∞—é—Ç, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è. –¢–æ –µ—Å—Ç—å –≤–Ω—É—Ç—Ä–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Fatal` –≤–º–µ—Å—Ç–æ `Error`.
- [suite](https://pkg.go.dev/github.com/stretchr/testify/suite) ‚Äî –ø–∞–∫–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤–≤–æ–¥–∏—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏—é —Ç–µ—Å—Ç-—Å—å—é—Ç–∞ (**test suite**). –ï—Å–ª–∏ –≤—ã —Ä–∞–±–æ—Ç–∞–ª–∏ —Å —Ç–µ—Å—Ç–∞–º–∏ –Ω–∞ Java –∏–ª–∏ Python, —Ç–æ, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –æ–Ω–∞ –≤–∞–º –∑–Ω–∞–∫–æ–º–∞.

**–°—å—é—Ç** ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å–∞–º–∏ —Ç–µ—Å—Ç—ã –≤ –≤–∏–¥–µ –º–µ—Ç–æ–¥–æ–≤, –∞ —Ç–∞–∫–∂–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã–π –Ω–∞–±–æ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –¥–æ—Å—Ç—É–ø–Ω—ã–π –≤—Å–µ–º —Ç–µ—Å—Ç–∞–º. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, —Å—å—é—Ç –¥–∞—ë—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω –ø–µ—Ä–µ–¥ –∏/–∏–ª–∏ –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–∞. –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–ª–µ–∑–Ω–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏ (–≤ —Å–ª—É—á–∞–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤).

–¢–∏–ø–∏—á–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å–æ [suite](https://pkg.go.dev/github.com/stretchr/testify/suite) –∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

```go
import (
    "testing"
    "github.com/stretchr/testify/suite"
)

// ExampleTestSuite ‚Äî —ç—Ç–æ —Ç–µ—Å—Ç–æ–≤—ã–π —Å—å—é—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–Ω –ø—É—Ç—ë–º —ç–º–±–µ–¥–¥–∏–Ω–≥–∞ suite.Suite.
type ExampleTestSuite struct {
    suite.Suite
    VariableThatShouldStartAtFive int
}

// SetupTest –∑–∞–ø–æ–ª–Ω—è–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é VariableThatShouldStartAtFive –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ç–µ—Å—Ç–∞.
func (suite *ExampleTestSuite) SetupTest() {
    suite.VariableThatShouldStartAtFive = 5
}

func (suite *ExampleTestSuite) TestExample() { // –≤—Å–µ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å–æ —Å–ª–æ–≤–∞ Test
    suite.Equal(5, suite.VariableThatShouldStartAtFive)
}

func TestExampleTestSuite(t *testing.T) {
    // —á—Ç–æ–±—ã go test —Å–º–æ–≥ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å—å—é—Ç, –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –æ–±—ã—á–Ω—É—é —Ç–µ—Å—Ç–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é
    // –∏ –≤—ã–∑–≤–∞—Ç—å –≤ –Ω–µ–π suite.Run
    suite.Run(t, new(ExampleTestSuite))
} 
```

## –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π, –∫–∞–∫ —Å—Ç–æ–∏—Ç –∏ –Ω–µ —Å—Ç–æ–∏—Ç –ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã. –û–Ω–∏ –Ω–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã –¥–ª—è Go, –ø–æ—ç—Ç–æ–º—É –∏—Ö –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –ª—é–±–æ–º —è–∑—ã–∫–µ.

### –ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç –¥–æ–ª–∂–µ–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á—Ç–æ-—Ç–æ –æ–¥–Ω–æ

–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤—ã —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `func Divide(a, b int) (int, error)`, –Ω–µ —Å—Ç–æ–∏—Ç –ø–∏—Å–∞—Ç—å —Ç–∞–∫–æ–π –∫–æ–¥:

```go
func TestDivision(t *testing.T) {
    result, err := Divide(0, 1)
    require.NoError(t, err)
    assert.Equal(t, 0, result)

    result, err = Divide(4, 2)
    require.NoError(t, err)
    assert.Equal(t, 2, result)

    _, err = Divide(1, 0)
    require.Error(err)
} 
```

–û–Ω –±—É–¥–µ—Ç –ø–∞–¥–∞—Ç—å –ø—Ä–∏ –ª—é–±–æ–π –ø—Ä–æ–±–ª–µ–º–µ –≤ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. –õ—É—á—à–µ —Ä–∞–∑–±–∏—Ç—å –µ–≥–æ –Ω–∞ —Ç—Ä–∏ —Ç–µ—Å—Ç–∞ (–∏–ª–∏ —Ç—Ä–∏ –ø–æ–¥—Ç–µ—Å—Ç–∞ –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ —Ç–µ—Å—Ç–∞), –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç —Å–≤–æ–π —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π:

```go
func TestDivision(t *testing.T) {
    t.Run("ZeroNumerator", func(t *testing.T) {
        result, err := Divide(0, 1)
        require.NoError(t, err)
        assert.Equal(t, 0, result)
    })

    t.Run("BothNonZero", func(t *testing.T) {
        result, err = Divide(4, 2)
        require.NoError(t, err)
        assert.Equal(t, 2, result)
    })

    t.Run("ZeroDenominator", func(t *testing.T) {
        _, err = Divide(1, 0)
        require.Error(err)
    })
} 
```

### –¢–µ—Å—Ç—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞

–ï—Å–ª–∏ –æ–¥–∏–Ω —Ç–µ—Å—Ç –æ–ø–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º–æ–µ –¥—Ä—É–≥–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏, ‚Äî —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞. –¢–µ—Å—Ç–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ç–∞–∫–æ–≥–æ —Ç–∏–ø–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–µ–ø—Ä–∏—è—Ç–Ω—ã–º –æ—à–∏–±–∫–∞–º, –∫–æ–≥–¥–∞ –ª–æ–∫–∞–ª—å–Ω–æ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç, –∞ –Ω–∞ CI/CD –∏–Ω–æ–≥–¥–∞ –ø–∞–¥–∞—é—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—Ä–µ–º—è –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ –º–µ–Ω—è–µ—Ç—Å—è.

–≠—Ç–∞ –∂–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ —Ç–µ—Å—Ç–∞–º –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ —Å—å—é—Ç–∞. –ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞ –Ω—É–∂–Ω–æ –∏—Å—Ö–æ–¥–∏—Ç—å –∏–∑ —Ç–æ–≥–æ, —á—Ç–æ –µ–º—É –Ω–∞ –≤—Ö–æ–¥ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç–µ–ª—å–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ `SetupTest`.

### –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã —Ç–µ—Å—Ç–∞ ‚Äî —ç—Ç–æ –Ω–µ –ª–æ–≥

–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ —Ç–µ—Å—Ç–∞ —Å—Ç–æ–∏—Ç —Å—á–∏—Ç–∞—Ç—å, —á—Ç–æ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ —Ç–µ—Å—Ç–∞ –Ω–∏–∫—Ç–æ –Ω–∞ –µ–≥–æ –ª–æ–≥–∏ —Å–º–æ—Ç—Ä–µ—Ç—å –Ω–µ –±—É–¥–µ—Ç. –í—Å–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç —Ç–µ—Å—Ç, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–æ–ø–∏—Å–∞–Ω—ã –≤ –≤–∏–¥–µ –ø—Ä–æ–≤–µ—Ä–æ–∫. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –≥–æ–Ω—è—Ç—å —Ç–µ—Å—Ç—ã –Ω–∞ CI/CD –±–µ–∑ —É—á–∞—Å—Ç–∏—è —á–µ–ª–æ–≤–µ–∫–∞.

## Table-driven-—Ç–µ—Å—Ç—ã

–í –ø—Ä–∏–º–µ—Ä–∞—Ö –≤—ã—à–µ –º—ã –≤–∏–¥–µ–ª–∏, —á—Ç–æ —Ç–µ—Å—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –º–Ω–æ–≥–æ –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞, –∏ —ç—Ç–æ –Ω–µ—Å–ø—Ä–æ—Å—Ç–∞. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è table-driven, –∏–ª–∏, –≥–æ–≤–æ—Ä—è –ø–æ-—Ä—É—Å—Å–∫–∏, ¬´—Ç–∞–±–ª–∏—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ¬ª. –û–Ω —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ –≤ Go, –Ω–æ –∏ –≤ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.

–°—É—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –≤ –æ—Ç–¥–µ–ª–µ–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∞–º–∏—Ö —Ç–µ—Å—Ç–æ–≤. –î–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤ –ø–∞—Ç—Ç–µ—Ä–Ω –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å—Å—è –∏–∑–±—ã—Ç–æ—á–Ω—ã–º, –æ–¥–Ω–∞–∫–æ –æ–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è—Ç—å —Ç–µ—Å—Ç—ã, –µ—Å–ª–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –Ω–∞–±–æ—Ä–æ–≤ —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ.

> [!NOTE]
> –í Go –µ—Å—Ç—å –ø–∞–∫–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —à–∞–±–ª–æ–Ω–æ–≤ —Ç–µ—Å—Ç–æ–≤ –∏–º–µ–Ω–Ω–æ –≤ —Å—Ç–∏–ª–µ table-driven, –ø–æ—ç—Ç–æ–º—É –¥–ª—è —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è –ø—Ä–∏–º–µ—Ä–∞ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∫–æ–¥–∞.

---

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ GoLand –∏–ª–∏ VS Code —Å –ø–ª–∞–≥–∏–Ω–∞–º–∏, —Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —É–∂–µ –≤—Å—Ç—Ä–æ–µ–Ω—ã –≤ IDE. –ï—Å–ª–∏ –Ω–µ—Ç, —Ç–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ–º–Ω–æ–≥–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π.

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç `github.com/cweill/gotests`:

```
$ go get -u github.com/cweill/gotests/... 
```

---

–í–µ—Ä–Ω—ë–º—Å—è –∫ –Ω–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ `Add`. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –¥–ª—è –Ω–µ—ë –∑–∞–≥–æ—Ç–æ–≤–∫—É —Ç–µ—Å—Ç–∞:

```bash
gotests -only Add . 
```

–í —Ñ–∞–π–ª `math_test.go` –¥–æ–±–∞–≤–∏–ª—Å—è —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥. –ú—ã –¥–æ–±–∞–≤–∏–ª–∏ –∫ –Ω–µ–º—É –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, —á—Ç–æ–±—ã –±—ã–ª–æ –ø–æ–Ω—è—Ç–Ω–µ–µ, —á—Ç–æ –æ–Ω –¥–µ–ª–∞–µ—Ç.

```go
func TestAdd(t *testing.T) {
    // args ‚Äî –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
    type args struct {
        a int
        b int
    }
    // –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ —Å–∞–º–∏ —Ç–µ—Å—Ç—ã
    tests := []struct {
        name    string // –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞
        args    args // –∞—Ä–≥—É–º–µ–Ω—Ç—ã 
        want    int // –æ–∂–∏–¥–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
        wantErr bool // –¥–æ–ª–∂–Ω–∞ –ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –≤–µ—Ä–Ω—É—Ç—å –æ—à–∏–±–∫—É 
    }{
        // TODO: Add test cases.
        // —Å—é–¥–∞ –¥–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏ (testcases)
    }
    // –≤—ã–∑—ã–≤–∞–µ–º —Ç–µ—Å—Ç–∏—Ä—É–µ–º—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–ª—É—á–∞—è  
    for _, tt := range tests {
        t.Run(tt.name, func(t *testing.T) {
            got, err := Add(tt.args.a, tt.args.b)
            if (err != nil) != tt.wantErr {
                t.Errorf("Add() error = %v, wantErr %v", err, tt.wantErr)
                return
            }
            if got != tt.want {
                t.Errorf("Add() = %v, want %v", got, tt.want)
            }
        })
    }
}
```

–î–æ–±–∞–≤–∏–º —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏ –≤ –º–µ—Å—Ç–æ, —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤ `//TODO`:

```go
        {
            name: "Test Positive",
            args: args{
                a: 1,
                b: 2,
            },
            want:    3,
            wantErr: false,
        },
        {
            name: "Test Negative 1",
            args: args{
                a: -1,
                b: 2,
            },
            want:    0,
            wantErr: true,
        },
        {
            name: "Test Negative 2",
            args: args{
                a: 1,
                b: -2,
            },
            want:    0,
            wantErr: true,
        },

        {
            name: "Test Negative all",
            args: args{
                a: -1,
                b: -2,
            },
            want:    0,
            wantErr: true,
        },
```

–ò –∑–∞–ø—É—Å—Ç–∏–º —Ç–µ—Å—Ç—ã.

–£–¥–æ–±—Å—Ç–≤–æ —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –≤ —Ç–æ–º, —á—Ç–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–±–∞–≤–ª—è—Ç—å –≤—ã–∑–æ–≤ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –µ—â—ë –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ª—É—á–∞–µ–≤. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–ø–∏—Å–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∏ –∂–µ–ª–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

## –ö–ª—é—á–µ–≤—ã–µ –º—ã—Å–ª–∏

1. –í Go –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —é–Ω–∏—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
2. –ö–æ–¥ —Ç–µ—Å—Ç–æ–≤ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º –∏ –Ω–µ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤ –∫–æ–Ω–µ—á–Ω—É—é —Å–±–æ—Ä–∫—É.
3. –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∏–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫. –û—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω—ã testify, suite, gotests.
4. Table-driven test ‚Äî —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–π —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ.



----
üìÇ [[Go]] | –ü–æ—Å–ª–µ–¥–Ω–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ: 01.09.2024 14:02