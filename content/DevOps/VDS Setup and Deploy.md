```bash
ssh-keygen -t rsa -b 2048 -C "Comment - VDS Name" -f ~/.ssh/filename
```

–°–≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –¥–≤–∞ —Ñ–∞–π–ª–∞ —Å –∫–ª—é—á–∞–º–∏: `filename` (–ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á) –∏ `filename.pub` (–ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á).

```
ssh -i filename root@123.45.67.8
```

```bash
adduser username
# Add `username` to `sudo` group
usermod -aG sudo username
# Switch to `username`
su - username
```

–î–æ–±–∞–≤–∏–º –∫–ª—é—á `ssh` –Ω–æ–≤–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é. –î–ª—è —ç—Ç–æ–≥–æ, –∑–∞—Ö–æ–¥–∏–º –ø–æ–¥ –µ–≥–æ –∏–º–µ–Ω–µ–º –ø–æ `ssh` –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –∏ –¥–∞–ª–µ–µ:

```bash
cd ~
mkdir -p .ssh
# 700 - all rights for current user, none for others.
chmod 700 .ssh

echo "<PUBLIC_KEY>" >> ~/.ssh/authorized_keys
```

–ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—Ö–æ–¥–∞ –ø–æ `ssh` –ø–æ –ª–æ–≥–∏–Ω—É –∏ –ø–∞—Ä–æ–ª—é, –æ—Å—Ç–∞–≤–∏–≤ —Ç–æ–ª—å–∫–æ –≤—Ö–æ–¥ –ø–æ –∫–ª—é—á—É. –î–ª—è —ç—Ç–æ–≥–æ, –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `ssh`:

```bash
sudo nano /etc/ssh/sshd_config
```

–°—Ç—Ä–µ–ª–∫–æ–π –≤–Ω–∏–∑ –¥–æ–º–æ—Ç–∞–π—Ç–µ –¥–æ —Å—Ç—Ä–æ–∫–∏ —Å `PasswordAuthentication` –∏ –≤–º–µ—Å—Ç–æ¬†_yes_¬†–Ω–∞–ø–∏—à–∏—Ç–µ¬†_no_:
![[Pasted image 20231122214129.png]]

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–µ—Ä–µ—á–∏—Ç–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–µ—Ä–≤–µ—Ä–∞ `sshd` (—Å–µ—Ä–≤–µ—Ä ssh daemon):

```bash
sudo systemctl reload sshd.service
```

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –∑–∞–π—Ç–∏ —Ç–æ–ª—å–∫–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–ª—é—á–∞:
![[Pasted image 20231122214236.png]]

–î–ª—è –≤—Ö–æ–¥–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å –∫–ª—é—á–æ–º, —É–∫–∞–∑—ã–≤–∞–µ–º —Ñ–ª–∞–≥ –∏ –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ –∫–ª—é—á—É:

```bash
ssh -i ~/.ssh/keyname user@123.45.67.8
```

–ß—Ç–æ–±—ã –±–æ–ª—å—à–µ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å –∏–º—è –∫–ª—é—á–∞ –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–¥–µ–ª–∞—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ:

1. –°–æ–∑–¥–∞–π—Ç–µ –≤ –ø–∞–ø–∫–µ `~/.ssh` —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º `config`:
```bash
touch ~/.ssh/config && chmod 600 ~/.ssh/config  
```
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∏ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á–∏ –≤ –ø–∞–ø–∫—É ~/.ssh/:
```bash
chmod 600 ~/.ssh/timeweb*
cp -fv timeweb timeweb.pub ~/.ssh/
```
3. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `~/.ssh/config`, –Ω–∞–ø–∏—Å–∞–≤ —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏:
```
Host <ip_address_of_your_machine>  
User <your_remote_system_user_name>  
IdentityFile ~/.ssh/timeweb
```
4. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –ø–æ `ssh` –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –∏–º–µ–Ω–∏ –∫–ª—é—á–∞:
```
ssh <your_remote_system_user_name>@<ip_address_of_your_machine>
```


```bash
python3 -V
sudo apt install python3-virtualenv
mkdir ~/workspace
cd ~/workspace
python3 -m virtualenv -p python3 .venv
source .venv/bin/activate
# or `. .venv/bin/activate`
pip install flask
```

–í—Å—ë, —á—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ `localhost` (`127.0.0.1`) –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –∏–∑–Ω—É—Ç—Ä–∏ –º–∞—à–∏–Ω—ã. –ü–æ—ç—Ç–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Flask –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å —Å —É–∫–∞–∑–∞–Ω–∏–µ–º IP –∞–¥—Ä–µ—Å–∞ VDS (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ—Ä—Ç, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ 80):

```bash
flask run -h 123.45.67.8
# or
gunicorn --bind 0.0.0.0:5000 app:app --daemon
```

https://www.howtogeek.com/225487/what-is-the-difference-between-127.0.0.1-and-0.0.0.0/

#### –®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ rsync

- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–∞—Ç–∞–ª–æ–≥–æ–≤ dir1 –∏ dir2 –Ω–∞ –æ–¥–Ω–æ–π –º–∞—à–∏–Ω–µ:
    `rsync -a dir1 dir2`
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —É–¥–∞–ª—ë–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã:
    `rsync -a local_dir username@remote_host:remote_dir`
- –í –æ–±—Ä–∞—Ç–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É:
    `rsync -a username@remote_host:remote_dir local_dir`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å –∫–ª—é—á–æ–º:
    `rsync -e 'ssh -i timeweb' -Paz username@remote_host:remote_dir local_dir`

**–û–ø—Ü–∏–∏:**

‚àír ‚Äî —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è.  
‚àía ‚Äî —Ä–µ–∂–∏–º –∞—Ä—Ö–∏–≤–∞, —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç -rlptgoD.  
‚àíz ‚Äî —Å–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö.  
‚àíP ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.  
‚àíe ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∑–∞–¥–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ —á–µ—Ä–µ–∑ SSH.

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –æ–ø—Ü–∏–π –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏¬†[–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](https://linux.die.net/man/1/rsync).

![[Docker Setup]]

----
üìÇ [[DevOps]]