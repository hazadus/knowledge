## FastAPI
### Bill Lubanovic - O'Reilly - 2023

----
https://github.com/madscheme/fastapi
#### ÐšÐ¾Ñ€Ð¾Ñ‚ÐºÐ¾ Ð¾ Ð³Ð»Ð°Ð²Ð°Ñ…
Ð’ Ð¿ÐµÑ€Ð²Ð¾Ð¹ Ð³Ð»Ð°Ð²Ðµ *Modern Web* ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¾ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð° Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ñ Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ñ Ð’ÐµÐ±Ð° Ð¸ Ð¿Ð¾Ð½ÑÑ‚Ð¸Ñ API, REST, JSON, concurrency Ð¸ Ð¿Ñ€Ð¾Ñ‡Ð¸Ðµ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ñ‹Ðµ Ð²Ð²Ð¾Ð´Ð½Ñ‹Ðµ.

Ð’Ñ‚Ð¾Ñ€Ð°Ñ Ð³Ð»Ð°Ð²Ð° *Modern Python* Ð¾Ñ‡ÐµÐ½ÑŒ ÐºÑ€Ð°Ñ‚ÐºÐ¾ Ñ€Ð°ÑÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°ÐµÑ‚ Ð±Ð°Ð·Ð¾Ð²Ñ‹Ðµ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸ Python, Ð²Ð»Ð°Ð´ÐµÐ½Ð¸Ðµ ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¼Ð¸ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ Ð´Ð»Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ñ FastAPI.

Ð’Ñ‚Ð¾Ñ€Ð°Ñ Ñ‡Ð°ÑÑ‚ÑŒ â€“ *A FastAPI tour* â€“ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ Ð¾Ð±Ð·Ð¾Ñ€ FastAPI "Ñ Ð²Ñ‹ÑÐ¾Ñ‚Ñ‹ Ð¿Ð¾Ð»Ñ‘Ñ‚Ð° Ð´Ñ€Ð¾Ð½Ð°".

Ð’ Ñ‚Ñ€ÐµÑ‚ÑŒÐµÐ¹ Ð³Ð»Ð°Ð²Ðµ Ð¼Ñ‹ Ð¿Ð¸ÑˆÐµÐ¼ Ð¿Ñ€Ð¾ÑÑ‚ÐµÐ¹ÑˆÐ¸Ð¹ "Hello world!" Ð½Ð° FastAPI.

4 - concurrency, asyncio, etc.

5 - type hints, pydantic.

6 - Dependency injection.

7 - ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ Ñ Flask, Django.

8 - Ð¿Ð¸ÑˆÐµÐ¼ Ð²ÐµÐ±-ÑÐ»Ð¾Ð¹ Ð½Ð°ÑˆÐµÐ³Ð¾ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ, Ñ Ñ„ÐµÐ¹ÐºÐ¾Ð²Ñ‹Ð¼ ÑÐµÑ€Ð²Ð¸ÑÐ½Ñ‹Ð¼ ÑÐ»Ð¾ÐµÐ¼ (Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼ Ð¶Ð¸Ð²ÑƒÑ‚ hard-coded Ð´Ð°Ð½Ð½Ñ‹Ðµ).

9 - Ð¿Ð¸ÑˆÐµÐ¼ ÑÐµÑ€Ð²Ð¸ÑÐ½Ñ‹Ð¹ ÑÐ»Ð¾Ð¹ Ð¸ Ñ‚ÐµÑÑ‚Ñ‹ Ðº Ð½ÐµÐ¼Ñƒ.

10 - data layer Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ SQLite. ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¾ÑˆÐ¸Ð±Ð¾Ðº Ð¿Ñ€Ð¸ Ð¿Ð¾Ð¼Ð¾Ñ‰Ð¸ Ð¸ÑÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ð¹.

11 - Ñ€Ð°Ð·Ð±Ð¸Ñ€Ð°ÐµÐ¼ÑÑ Ñ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸ÐµÐ¹ Ð¸ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸ÐµÐ¹. ÐŸÐ¸ÑˆÐµÐ¼ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸ÑŽ Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ JWT Ð¸ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ðµ Ñ‚ÐµÑÑ‚Ñ‹.

12 - Ð³Ð»Ð°Ð²Ð° Ð±Ð¾Ð»ÐµÐµ Ð´ÐµÑ‚Ð°Ð»ÑŒÐ½Ð¾ Ð¿Ð¾ÑÐ²ÑÑ‰ÐµÐ½Ð° Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸ÑŽ Ð¿Ñ€Ð¸ Ð¿Ð¾Ð¼Ð¾Ñ‰Ð¸ `pytest`. Ð¥Ð¾Ñ‚Ñ Ð¼Ð½Ð¾Ð³Ð¾ Ñ‚ÐµÑÑ‚Ð¾Ð² ÑƒÐ¶Ðµ Ð½Ð°Ð¿Ð¸ÑÐ°Ð½Ð¾ Ðº ÑÑ‚Ð¾Ð¼Ñƒ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚Ñƒ, Ñ€Ð°ÑÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°ÑŽÑ‚ÑÑ Ð±Ð¾Ð»ÐµÐµ Ð´ÐµÑ‚Ð°Ð»ÑŒÐ½Ð¾ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸ `pytest` Ð¸ Ð¾ÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ñ‹ Ñ‚ÐµÑÑ‚Ð¾Ð² Ð² Ñ€Ð°ÑÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°ÐµÐ¼Ð¾Ð¼ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¸ â€“ Ð² Ñ‡Ð°ÑÑ‚Ð½Ð¾ÑÑ‚Ð¸, Ð¸Ð·Ð¾Ð»ÑÑ†Ð¸Ñ ÑÐ»Ð¾Ñ‘Ð² Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸Ñ unit-Ñ‚ÐµÑÑ‚Ð¾Ð². Ð˜Ð· Ð¼Ð¸Ð½ÑƒÑÐ¾Ð² â€“ Ð½Ðµ Ñ€Ð°ÑÑÐºÐ°Ð·Ð°Ð½Ð¾, ÐºÐ°Ðº Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ `pytest`, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð²ÑÐµ Ñ‚ÐµÑÑ‚Ñ‹ Ð¾Ð´Ð½Ð¾Ð¹ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¾Ð¹. Ð­Ñ‚Ð¾ Ð½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ, Ð½Ð¾ Ñ…Ð¾Ñ‚ÐµÐ»Ð¾ÑÑŒ Ð±Ñ‹ ÑƒÐ²Ð¸Ð´ÐµÑ‚ÑŒ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸ Ð² ÐºÐ½Ð¸Ð³Ðµ. ÐŸÑ€Ð¸Ð²ÐµÐ´ÐµÐ½ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ñ‹Ð¹ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚, [[schemathesis]], Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð³Ð¾ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ API Ð¿Ð¾ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ ÑÐ³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸. Ð’ÐºÑ€Ð°Ñ‚Ñ†Ðµ ÑƒÐ¿Ð¾Ð¼Ð¸Ð½Ð°ÐµÑ‚ÑÑ Ð½Ð°Ð³Ñ€ÑƒÐ·Ð¾Ñ‡Ð½Ð¾Ðµ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¸ Ð¿Ð¾Ð¼Ð¾Ñ‰Ð¸ [[Locust]].

13 - ÐžÐ±Ð·Ð¾Ñ€Ð½Ð¾ Ð¾ Ð´ÐµÐ¿Ð»Ð¾Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð½Ð° FastAPI. Ð“Ð¾Ñ‚Ð¾Ð²Ñ‹Ñ… Ñ€ÐµÑ†ÐµÐ¿Ñ‚Ð¾Ð² Ð½Ðµ Ð¿Ñ€Ð¸Ð²ÐµÐ´ÐµÐ½Ð¾: Ð´Ð°Ð½Ñ‹ Ð¾Ð±Ñ‰Ð¸Ðµ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸ Ð¸ ÑÑÑ‹Ð»ÐºÐ¸ Ð½Ð° Ñ…Ð¾Ñ€Ð¾ÑˆÐ¸Ðµ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ€ÐµÑÑƒÑ€ÑÑ‹.

14 - ÐžÐ±Ð·Ð¾Ñ€ Ð±Ð°Ð· Ð´Ð°Ð½Ð½Ñ‹Ñ… (SQL, NoSQL, Ð¸ Ð´Ð°Ð¶Ðµ PostSQL) Ð¸ ÑÑ€ÐµÐ´ÑÑ‚Ð² Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ Ð½Ð¸Ð¼Ð¸. ÐŸÑ€Ð¾ Data Science Ð¸ AI Ñ Ð¿Ñ€Ð¾Ð»Ð¸ÑÑ‚Ð°Ð», Ð¿Ð¾Ð´Ñ‚Ð°ÑˆÐ½Ð¸Ð²Ð°ÐµÑ‚ ÑƒÐ¶Ðµ Ð¾Ñ‚ Ð˜Ð˜!

15 - Ñ€Ð°Ð±Ð¾Ñ‚Ð° Ñ Ñ„Ð°Ð¹Ð»Ð°Ð¼Ð¸. Ð¡Ð»Ð°Ð±Ð¾Ð²Ð°Ñ‚Ð¾, ÑÑ‚Ð¾ Ð²ÑÑ‘ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð½Ð¾ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¾ Ð² Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸. Ð”Ð°Ð¶Ðµ Ð½Ðµ ÑƒÐ¿Ð¾Ð¼ÑÐ½ÑƒÑ‚Ð¾ Ð¿Ñ€Ð¾ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÑƒ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ñ… Ñ„Ð°Ð¹Ð»Ð¾Ð² Ð¾Ð´Ð½Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾! Ð˜ Ñ…Ð¾Ñ‚ÐµÐ»Ð¾ÑÑŒ Ð±Ñ‹ ÑƒÐ²Ð¸Ð´ÐµÑ‚ÑŒ, ÐºÐ°Ðº Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ñ‚ÐµÑÑ‚Ñ‹ Ð½Ð° ÑÐ½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚Ñ‹, Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÑŽÑ‰Ð¸Ðµ Ñ„Ð°Ð¹Ð»Ñ‹...

16 - Ñ€Ð°Ð±Ð¾Ñ‚Ð° Ñ Ñ„Ð¾Ñ€Ð¼Ð°Ð¼Ð¸ Ð¸ ÑˆÐ°Ð±Ð»Ð¾Ð½Ð°Ð¼Ð¸.

Ð˜Ð· Ð½ÐµÐ´Ð¾ÑÑ‚Ð°Ñ‚ÐºÐ¾Ð²: Ð´Ð¾Ð²Ð¾Ð»ÑŒÐ½Ð¾ Ð¼Ð½Ð¾Ð³Ð¾ Ð¾ÑˆÐ¸Ð±Ð¾Ðº Ð² ÐºÐ¾Ð´Ðµ â€“ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð°Ð¼Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ð½ÐµÐ²ÐµÑ€Ð½Ñ‹Ðµ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ, Ð½ÐµÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ñ‹Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ Ð² ÑÐ¸Ð³Ð½Ð°Ñ‚ÑƒÑ€Ð°Ñ… Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹, Ð¾ÑˆÐ¸Ð±ÐºÐ¸ Ð² Ð¸Ð¼ÐµÐ½Ð°Ñ… Ð¼Ð¾Ð´ÑƒÐ»ÐµÐ¹ Ð² Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð°Ñ…, Ð·Ð°Ð±Ñ‹Ñ‚Ñ‹Ðµ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ñ‹, Ð½ÐµÐ²ÐµÑ€Ð½Ñ‹Ðµ Ñ€Ð¾ÑƒÑ‚Ñ‹ Ð² Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð°Ñ…... Ð’ Ð¾Ð±Ñ‰ÐµÐ¼, Ð½Ð°Ð´Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð² Ð¾Ð±Ð°, Ð¸ ÐºÐ¾Ð´ Ñ‚Ð²Ð¾Ñ€Ñ‡ÐµÑÐºÐ¸ Ð´Ð¾Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°Ñ‚ÑŒ â€“ Ð·Ð°Ð¾Ð´Ð½Ð¾ Ð¸ Ñ€Ð°Ð·Ð¾Ð±Ñ€Ð°Ñ‚ÑŒÑÑ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ð¾Ð»ÑƒÑ‡ÑˆÐµ :)

#### Ð˜Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹, Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÑÐµÐ¼Ñ‹Ðµ Ð² ÐºÐ½Ð¸Ð³Ðµ
- FastAPI
- Pydantic
- Uvicorn
- HTTPX
- Requests
- httpie
- poetry
- pytest
- black
- mypy

#### ÐŸÑ€Ð¸ÐºÐ¾Ð»ÑŒÐ½Ñ‹Ðµ Ñ†Ð¸Ñ‚Ð°Ñ‚Ñ‹
> Follow one rule from *Ghostbusters*: Donâ€™t cross the streams. That is, donâ€™t let web details leak out of the Web layer, or database details out of the Data layer. *(p.11)*

> Technically, weâ€™re not creating anything, so a POST isnâ€™t kosher, but if the RESTful Overlords sue us, then hey, check out the cool courthouse. *(p.54)*

----


----
ðŸ“‚ [[Reading]]