## FastAPI
### Bill Lubanovic - O'Reilly - 2023

----
https://github.com/madscheme/fastapi
#### ĞšĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¾ Ğ¾ Ğ³Ğ»Ğ°Ğ²Ğ°Ñ…
Ğ’ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¹ Ğ³Ğ»Ğ°Ğ²Ğµ *Modern Web* ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¾ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ° Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ñ Ğ’ĞµĞ±Ğ° Ğ¸ Ğ¿Ğ¾Ğ½ÑÑ‚Ğ¸Ñ API, REST, JSON, concurrency Ğ¸ Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ğµ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ñ‹Ğµ Ğ²Ğ²Ğ¾Ğ´Ğ½Ñ‹Ğµ.

Ğ’Ñ‚Ğ¾Ñ€Ğ°Ñ Ğ³Ğ»Ğ°Ğ²Ğ° *Modern Python* Ğ¾Ñ‡ĞµĞ½ÑŒ ĞºÑ€Ğ°Ñ‚ĞºĞ¾ Ñ€Ğ°ÑÑĞ¼Ğ°Ñ‚Ñ€Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ Ğ¸ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ Python, Ğ²Ğ»Ğ°Ğ´ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¼Ğ¸ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ñ FastAPI.

Ğ’Ñ‚Ğ¾Ñ€Ğ°Ñ Ñ‡Ğ°ÑÑ‚ÑŒ â€“ *A FastAPI tour* â€“ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ¾Ğ±Ğ·Ğ¾Ñ€ FastAPI "Ñ Ğ²Ñ‹ÑĞ¾Ñ‚Ñ‹ Ğ¿Ğ¾Ğ»Ñ‘Ñ‚Ğ° Ğ´Ñ€Ğ¾Ğ½Ğ°".

Ğ’ Ñ‚Ñ€ĞµÑ‚ÑŒĞµĞ¹ Ğ³Ğ»Ğ°Ğ²Ğµ Ğ¼Ñ‹ Ğ¿Ğ¸ÑˆĞµĞ¼ Ğ¿Ñ€Ğ¾ÑÑ‚ĞµĞ¹ÑˆĞ¸Ğ¹ "Hello world!" Ğ½Ğ° FastAPI.

4 - concurrency, asyncio, etc.

5 - type hints, pydantic.

6 - Dependency injection.

7 - ÑÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ Ñ Flask, Django.

8 - Ğ¿Ğ¸ÑˆĞµĞ¼ Ğ²ĞµĞ±-ÑĞ»Ğ¾Ğ¹ Ğ½Ğ°ÑˆĞµĞ³Ğ¾ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ, Ñ Ñ„ĞµĞ¹ĞºĞ¾Ğ²Ñ‹Ğ¼ ÑĞµÑ€Ğ²Ğ¸ÑĞ½Ñ‹Ğ¼ ÑĞ»Ğ¾ĞµĞ¼ (Ğ² ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğ¼ Ğ¶Ğ¸Ğ²ÑƒÑ‚ hard-coded Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ).

9 - Ğ¿Ğ¸ÑˆĞµĞ¼ ÑĞµÑ€Ğ²Ğ¸ÑĞ½Ñ‹Ğ¹ ÑĞ»Ğ¾Ğ¹ Ğ¸ Ñ‚ĞµÑÑ‚Ñ‹ Ğº Ğ½ĞµĞ¼Ñƒ.

10 - data layer Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ SQLite. ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ¸ Ğ¸ÑĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğ¹.

11 - Ñ€Ğ°Ğ·Ğ±Ğ¸Ñ€Ğ°ĞµĞ¼ÑÑ Ñ Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸ĞµĞ¹ Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸ĞµĞ¹. ĞŸĞ¸ÑˆĞµĞ¼ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ JWT Ğ¸ ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğµ Ñ‚ĞµÑÑ‚Ñ‹.

12 - Ğ³Ğ»Ğ°Ğ²Ğ° Ğ±Ğ¾Ğ»ĞµĞµ Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ¿Ğ¾ÑĞ²ÑÑ‰ĞµĞ½Ğ° Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ¸ `pytest`. Ğ¥Ğ¾Ñ‚Ñ Ğ¼Ğ½Ğ¾Ğ³Ğ¾ Ñ‚ĞµÑÑ‚Ğ¾Ğ² ÑƒĞ¶Ğµ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¾ Ğº ÑÑ‚Ğ¾Ğ¼Ñƒ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚Ñƒ, Ñ€Ğ°ÑÑĞ¼Ğ°Ñ‚Ñ€Ğ¸Ğ²Ğ°ÑÑ‚ÑÑ Ğ±Ğ¾Ğ»ĞµĞµ Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ `pytest` Ğ¸ Ğ¾ÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹ Ñ‚ĞµÑÑ‚Ğ¾Ğ² Ğ² Ñ€Ğ°ÑÑĞ¼Ğ°Ñ‚Ñ€Ğ¸Ğ²Ğ°ĞµĞ¼Ğ¾Ğ¼ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¸ â€“ Ğ² Ñ‡Ğ°ÑÑ‚Ğ½Ğ¾ÑÑ‚Ğ¸, Ğ¸Ğ·Ğ¾Ğ»ÑÑ†Ğ¸Ñ ÑĞ»Ğ¾Ñ‘Ğ² Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ñ unit-Ñ‚ĞµÑÑ‚Ğ¾Ğ². Ğ˜Ğ· Ğ¼Ğ¸Ğ½ÑƒÑĞ¾Ğ² â€“ Ğ½Ğµ Ñ€Ğ°ÑÑĞºĞ°Ğ·Ğ°Ğ½Ğ¾, ĞºĞ°Ğº Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ `pytest`, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ Ñ‚ĞµÑÑ‚Ñ‹ Ğ¾Ğ´Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¾Ğ¹. Ğ­Ñ‚Ğ¾ Ğ½Ğµ ÑĞ»Ğ¾Ğ¶Ğ½Ğ¾ ÑĞ´ĞµĞ»Ğ°Ñ‚ÑŒ, Ğ½Ğ¾ Ñ…Ğ¾Ñ‚ĞµĞ»Ğ¾ÑÑŒ Ğ±Ñ‹ ÑƒĞ²Ğ¸Ğ´ĞµÑ‚ÑŒ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ² ĞºĞ½Ğ¸Ğ³Ğµ. ĞŸÑ€Ğ¸Ğ²ĞµĞ´ĞµĞ½ Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑĞ½Ñ‹Ğ¹ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚, [[schemathesis]], Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ API Ğ¿Ğ¾ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ ÑĞ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğ¹ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸. Ğ’ĞºÑ€Ğ°Ñ‚Ñ†Ğµ ÑƒĞ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°ĞµÑ‚ÑÑ Ğ½Ğ°Ğ³Ñ€ÑƒĞ·Ğ¾Ñ‡Ğ½Ğ¾Ğµ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ¸ [[Locust]].

13 - ĞĞ±Ğ·Ğ¾Ñ€Ğ½Ğ¾ Ğ¾ Ğ´ĞµĞ¿Ğ»Ğ¾Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ Ğ½Ğ° FastAPI. Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ñ… Ñ€ĞµÑ†ĞµĞ¿Ñ‚Ğ¾Ğ² Ğ½Ğµ Ğ¿Ñ€Ğ¸Ğ²ĞµĞ´ĞµĞ½Ğ¾: Ğ´Ğ°Ğ½Ñ‹ Ğ¾Ğ±Ñ‰Ğ¸Ğµ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ¸ ÑÑÑ‹Ğ»ĞºĞ¸ Ğ½Ğ° Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¸Ğµ Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ€ĞµÑÑƒÑ€ÑÑ‹.

14 - ĞĞ±Ğ·Ğ¾Ñ€ Ğ±Ğ°Ğ· Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (SQL, NoSQL, Ğ¸ Ğ´Ğ°Ğ¶Ğµ PostSQL) Ğ¸ ÑÑ€ĞµĞ´ÑÑ‚Ğ² Ğ´Ğ»Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ñ Ğ½Ğ¸Ğ¼Ğ¸. ĞŸÑ€Ğ¾ Data Science Ğ¸ AI Ñ Ğ¿Ñ€Ğ¾Ğ»Ğ¸ÑÑ‚Ğ°Ğ», Ğ¿Ğ¾Ğ´Ñ‚Ğ°ÑˆĞ½Ğ¸Ğ²Ğ°ĞµÑ‚ ÑƒĞ¶Ğµ Ğ¾Ñ‚ Ğ˜Ğ˜!

15 - Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ñ„Ğ°Ğ¹Ğ»Ğ°Ğ¼Ğ¸. Ğ¡Ğ»Ğ°Ğ±Ğ¾Ğ²Ğ°Ñ‚Ğ¾, ÑÑ‚Ğ¾ Ğ²ÑÑ‘ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ½Ğ¾ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¾ Ğ² Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸. Ğ”Ğ°Ğ¶Ğµ Ğ½Ğµ ÑƒĞ¿Ğ¾Ğ¼ÑĞ½ÑƒÑ‚Ğ¾ Ğ¿Ñ€Ğ¾ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºÑƒ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ñ… Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾! Ğ˜ Ñ…Ğ¾Ñ‚ĞµĞ»Ğ¾ÑÑŒ Ğ±Ñ‹ ÑƒĞ²Ğ¸Ğ´ĞµÑ‚ÑŒ, ĞºĞ°Ğº Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ Ñ‚ĞµÑÑ‚Ñ‹ Ğ½Ğ° ÑĞ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ñ‹, Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ÑÑ‰Ğ¸Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹...

16 - Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ğ¼Ğ¸ Ğ¸ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ°Ğ¼Ğ¸.

Ğ˜Ğ· Ğ½ĞµĞ´Ğ¾ÑÑ‚Ğ°Ñ‚ĞºĞ¾Ğ²: Ğ´Ğ¾Ğ²Ğ¾Ğ»ÑŒĞ½Ğ¾ Ğ¼Ğ½Ğ¾Ğ³Ğ¾ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº Ğ² ĞºĞ¾Ğ´Ğµ â€“ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ°Ğ¼Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑÑ‚ÑÑ Ğ½ĞµĞ²ĞµÑ€Ğ½Ñ‹Ğµ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ, Ğ½ĞµĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ñ‹Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ² ÑĞ¸Ğ³Ğ½Ğ°Ñ‚ÑƒÑ€Ğ°Ñ… Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹, Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸ Ğ² Ğ¸Ğ¼ĞµĞ½Ğ°Ñ… Ğ¼Ğ¾Ğ´ÑƒĞ»ĞµĞ¹ Ğ² Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ°Ñ…, Ğ·Ğ°Ğ±Ñ‹Ñ‚Ñ‹Ğµ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ñ‹, Ğ½ĞµĞ²ĞµÑ€Ğ½Ñ‹Ğµ Ñ€Ğ¾ÑƒÑ‚Ñ‹ Ğ² Ğ´ĞµĞºĞ¾Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ°Ñ…... Ğ’ Ğ¾Ğ±Ñ‰ĞµĞ¼, Ğ½Ğ°Ğ´Ğ¾ ÑĞ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ Ğ² Ğ¾Ğ±Ğ°, Ğ¸ ĞºĞ¾Ğ´ Ñ‚Ğ²Ğ¾Ñ€Ñ‡ĞµÑĞºĞ¸ Ğ´Ğ¾Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°Ñ‚ÑŒ â€“ Ğ·Ğ°Ğ¾Ğ´Ğ½Ğ¾ Ğ¸ Ñ€Ğ°Ğ·Ğ¾Ğ±Ñ€Ğ°Ñ‚ÑŒÑÑ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿Ğ¾Ğ»ÑƒÑ‡ÑˆĞµ :)

#### Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹, Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ÑĞµĞ¼Ñ‹Ğµ Ğ² ĞºĞ½Ğ¸Ğ³Ğµ
- FastAPI
- Pydantic
- Uvicorn
- HTTPX
- Requests
- httpie
- poetry
- pytest
- black
- mypy

#### ĞŸÑ€Ğ¸ĞºĞ¾Ğ»ÑŒĞ½Ñ‹Ğµ Ñ†Ğ¸Ñ‚Ğ°Ñ‚Ñ‹
> Follow one rule from *Ghostbusters*: Donâ€™t cross the streams. That is, donâ€™t let web details leak out of the Web layer, or database details out of the Data layer. *(p.11)*

> Technically, weâ€™re not creating anything, so a POST isnâ€™t kosher, but if the RESTful Overlords sue us, then hey, check out the cool courthouse. *(p.54)*

----


----
ğŸ“‚ [[Reading]] | ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½ĞµĞµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ: 08.04.2024 22:33