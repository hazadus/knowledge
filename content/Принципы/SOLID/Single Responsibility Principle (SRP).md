๐ [[SOLID Principles]]

----
## SRP โ Single Responsibility Principle

![](https://api.selcdn.ru/v1/SEL_72086/prodLMS/files/share/2_OrO9Grp.png)

ะัะธะฝัะธะฟ ะตะดะธะฝััะฒะตะฝะฝะพะน ะพัะฒะตัััะฒะตะฝะฝะพััะธ ะณะปะฐัะธั:

- ะะปะฐัั ะดะพะปะถะตะฝ ะธะผะตัั ะพะดะฝั ะธ ัะพะปัะบะพ ะพะดะฝั ะฟัะธัะธะฝั ะดะปั ะธะทะผะตะฝะตะฝะธั.

ะัะธ ะฟะตัะฒะพะผ ะทะฝะฐะบะพะผััะฒะต ั ััะธะผ ะฟัะธะฝัะธะฟะพะผ ะผะพะถะตั ะฟะพะบะฐะทะฐัััั ัััะฐะฝะฝัะผ, ััะพ ัะฝะฐัะฐะปะฐ ะณะพะฒะพัะธััั ะพะฑ ะพัะฒะตัััะฒะตะฝะฝะพััะธ, ะฐ ะฟะพัะพะผ โ ะพ ะฟัะธัะธะฝะต ะดะปั ะธะทะผะตะฝะตะฝะธั. ะะพ ะตัะปะธ ะทะฐะดัะผะฐัััั, ััะพ ะฝะต ัะฐะบ ัััะฐะฝะฝะพ. ะะฐััะผะพััะธะผ, ะบะฐะบ ะฟัะธะฝัะธะฟ ะผะพะณ ะฑั ะฒัะณะปัะดะตัั ะฒ ัะตะฐะปัะฝะพะน ะถะธะทะฝะธ.ย

ะัะตะดััะฐะฒััะต, ััะพ ั ะฒะฐั ะตััั ะผัะปััะธะฒะฐัะบะฐ. ะะฝะฐ ัะผะตะตั ะณะพัะพะฒะธัั ัะธั, ัััะธัั ะผััะพ, ะฒะฐัะธัั ััะฟ ะธ ัะฐะบ ะดะฐะปะตะต. ะัะปะธ ะพะฝะฐ ัะปะพะผะฐะตััั, ะฒะฐะผ ะฟัะธะดัััั ะพัะฝะตััะธ ะตั ะฒ ัะตะผะพะฝั ะธะปะธ ะบัะฟะธัั ะฝะพะฒัั. ะัะปะธ ะฑั ั ะฒะฐั ะฑัะปะธ ะพัะดะตะปัะฝัะต ะฟัะธะฑะพัั ะดะปั ะบะฐะถะดะพะน ััะฝะบัะธะธ, ะฒั ะผะพะณะปะธ ะฑั ะทะฐะผะตะฝะธัั ัะพะปัะบะพ ัะพั, ะบะพัะพััะน ัะปะพะผะฐะปัั, ะฐ ะพััะฐะปัะฝัะต ะฟัะพะดะพะปะถะธะปะธ ะฑั ัะฐะฑะพัะฐัั. ะขะฐะบ ะถะต ะธ ะฒ ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธะธ: ะบะปะฐัั ะดะพะปะถะตะฝ ะธะผะตัั ัะพะปัะบะพ ะพะดะฝั ะฟัะธัะธะฝั ะดะปั ะธะทะผะตะฝะตะฝะธั.

ะะฐััะผะพััะธะผ ะบะพะฝะบัะตัะฝัะน ะฟัะธะผะตั ะบะปะฐััะฐ, ะบะพัะพััะน ะธัะฟะพะปัะทัะตััั ะดะปั ะพัะฟัะฐะฒะบะธ ะฟะพะดัะฒะตัะถะดะตะฝะธั ัะตะณะธัััะฐัะธะธ ะฝะพะฒะพะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั ะฝะฐ ะฐะดัะตั ะตะณะพ ัะปะตะบััะพะฝะฝะพะน ะฟะพััั. ะฃ ะบะปะฐััะฐ ะตััั ะฝะตะบะพัะพััะต ะทะฐะฒะธัะธะผะพััะธ, ัะฐะบะธะต ะบะฐะบ ัะฐะฑะปะพะฝะธะทะฐัะพั ะดะปั ัะตะฝะดะตัะธะฝะณะฐ ัะตะปะฐ ัะพะพะฑัะตะฝะธั, ัะตัะฒะธั ะดะปั ะฟะตัะตะฒะพะดะฐ ัะตะผั ัะพะพะฑัะตะฝะธั ะธ ะฟะพััะพะฒัะน ะบะปะธะตะฝั ะดะปั ะพัะฟัะฐะฒะบะธ ัะพะพะฑัะตะฝะธั, โ ะฒัะต ะพะฝะธ ะฒะฝะตะดัััััั ะฒ ะบะปะฐัั ะฟะพ ะธะฝัะตััะตะนัะฐะผ, ะฝะพ ะพะฑ ััะพะผ ะฟะพะทะถะต. ะขะฐะบะถะต ะตััั ะฝะตะบะธะต ัััะฝะพััะธ User ะธ Message, ะพะฟะธััะฒะฐััะธะต ัะฐัะฐะบัะตัะธััะธะบะธ ะฟะพะปัะทะพะฒะฐัะตะปั ะธ ะปะพะณะธะบั ัะพัะผะธัะพะฒะฐะฝะธั ัะพะพะฑัะตะฝะธั.

```python
class ConfirmationMailMailer:  
ย ยdef __init__(self, templating: Any, translator: Any, mailer: Any):  
ย ย ย ยself.templating = templating  
ย ย ย ยself. Translator = translator  
ย ย ย ยself. Mailer = mailer  
  
ย ยdef send_to(self, user: 'User') -> None:  
ย ย ย ยmessage = self.create_message_for(user)  
ย ย ย ยself.send_message(message)  
  
ย ยdef create_message_for(self, user: 'User') -> 'Message':  
ย ย ย ยsubject = self.translator.translate('Confirm your mail address')  
ย ย ย ยbody = self.templating.render('confirm.html.tpl', {'Code': user.get_ัode()})  
ย ย ย ยmessage = Message(subject, body)  
ย ย ย ยreturn message  
  
ย ยdef send_message(self, message: 'Message') -> None:  
ย ย ย ยself.mailer.send(message)
```

ะฃ ััะพะณะพ ะบะปะฐััะฐ ะตััั ะดะฒะฐ ะทะฐะดะฐะฝะธั, ะธะปะธ ะดะฒะต ะพัะฒะตัััะฒะตะฝะฝะพััะธ, โ ัะพะทะดะฐัั ะฟะธััะผะพ ั ะฟะพะดัะฒะตัะถะดะตะฝะธะตะผ ะธ ะพัะฟัะฐะฒะธัั ะตะณะพ. ะญัะธ ะดะฒะต ะพัะฒะตัััะฒะตะฝะฝะพััะธ ะฟัะตะดััะฐะฒะปััั ัะพะฑะพะน ะดะฒะต ะฟัะธัะธะฝั ะดะปั ะธะทะผะตะฝะตะฝะธะน. ะััะบะธะน ัะฐะท, ะบะพะณะดะฐ ะธะทะผะตะฝััััั ััะตะฑะพะฒะฐะฝะธั, ะบะฐัะฐััะธะตัั ัะพะทะดะฐะฝะธั ะธะปะธ ะพัะฟัะฐะฒะบะธ ัะพะพะฑัะตะฝะธั, ััะพั ะบะปะฐัั ะฝะตะพะฑัะพะดะธะผะพ ะฑัะดะตั ะผะพะดะธัะธัะธัะพะฒะฐัั. ะขะฐะบะถะต ััะพ ะพะทะฝะฐัะฐะตั, ััะพ, ะบะพะณะดะฐ ะปัะฑะฐั ะธะท ะพัะฒะตัััะฒะตะฝะฝะพััะตะน ััะตะฑัะตั ะธะทะผะตะฝะตะฝะธั, ะฒะตัั ะบะปะฐัั ะดะพะปะถะตะฝ ะฑััั ะพัะบััั ะธ ะธะทะผะตะฝัะฝ, ะฒ ัะพ ะฒัะตะผั ะบะฐะบ ะฑะพฬะปััะฐั ะตะณะพ ัะฐััั ะผะพะถะตั ะฝะต ะธะผะตัั ะฝะธัะตะณะพ ะพะฑัะตะณะพ ั ะทะฐะฟัะพัะตะฝะฝัะผ ะธะทะผะตะฝะตะฝะธะตะผ.

ะะพัะบะพะปัะบั ะธะทะผะตะฝะตะฝะธะต ัััะตััะฒัััะตะณะพ ะบะพะดะฐ โ ััะพ ัะพ, ััะพ ะฝะตะพะฑัะพะดะธะผะพ ะฟัะตะดะพัะฒัะฐัะธัั ะธะปะธ, ะฟะพ ะบัะฐะนะฝะตะน ะผะตัะต, ะพะณัะฐะฝะธัะธัั, ะฐ ะพัะฒะตัััะฒะตะฝะฝะพััะธ โ ััะพ ะฟัะธัะธะฝั ะดะปั ะธะทะผะตะฝะตะฝะธั, ะผั ะดะพะปะถะฝั ะฟะพะฟััะฐัััั ัะฒะตััะธ ะบ ะผะธะฝะธะผัะผั ะบะพะปะธัะตััะฒะพ ะพัะฒะตัััะฒะตะฝะฝะพััะตะน ะบะฐะถะดะพะณะพ ะบะปะฐััะฐ. ะะพัะบะพะปัะบั ะบะปะฐัั, ะฝะต ะธะผะตััะธะน ะพัะฒะตัััะฒะตะฝะฝะพััะตะน, ะฑะตัะฟะพะปะตะทะตะฝ, ะปัััะตะต, ััะพ ะผะพะถะฝะพ ัะดะตะปะฐัั ะพัะฝะพัะธัะตะปัะฝะพ ะผะธะฝะธะผะธะทะฐัะธะธ ัะธัะปะฐ ะพัะฒะตัััะฒะตะฝะฝะพััะตะน, โ ัะพะบัะฐัะธัั ะธั ะดะพ ะพะดะฝะพะน. ะัััะดะฐ ะธ ะฟัะธะฝัะธะฟ ะตะดะธะฝััะฒะตะฝะฝะพะน ะพัะฒะตัััะฒะตะฝะฝะพััะธ.

### ะะฐัััะตะฝะธะต ะฟัะธะฝัะธะฟะฐ ะตะดะธะฝััะฒะตะฝะฝะพะน ะพัะฒะตัััะฒะตะฝะฝะพััะธ

ะัะธะทะฝะฐะบะธ, ะฟะพ ะบะพัะพััะผ ะผะพะถะฝะพ ะพะฟัะตะดะตะปะธัั ะฝะฐัััะตะฝะธะต ะฟัะธะฝัะธะฟะฐ ะตะดะธะฝััะฒะตะฝะฝะพะน ะพัะฒะตัััะฒะตะฝะฝะพััะธ:

- ั ะบะปะฐััะฐ ะผะฝะพะณะพ ะฟะตัะตะผะตะฝะฝัั ัะบะทะตะผะฟะปััะฐ;
- ะฒ ะบะปะฐััะต ะผะฝะพะณะพ ะพัะบััััั ะผะตัะพะดะพะฒ;
- ะบะฐะถะดัะน ะผะตัะพะด ะบะปะฐััะฐ ะธัะฟะพะปัะทัะตั ัะฐะทะฝัะต ะฟะตัะตะผะตะฝะฝัะต ัะบะทะตะผะฟะปััะฐ;
- ะบะพะฝะบัะตัะฝัะต ะทะฐะดะฐัะธ ะดะตะปะตะณะธัััััั ะทะฐะบััััะผ ะผะตัะพะดะฐะผ.

ะัั ััะพ โ ะฒะตัะบะธะต ะฟัะธัะธะฝั ะดะปั ะธะทะฒะปะตัะตะฝะธั ะธะท ะบะปะฐััะฐ ัะฐะบ ะฝะฐะทัะฒะฐะตะผัั ะฒะทะฐะธะผะพะดะตะนััะฒัััะธั ะบะปะฐััะพะฒ, ะดะตะปะตะณะธััั ะธะผ ะฝะตะบะพัะพััะต ะพัะฒะตัััะฒะตะฝะฝะพััะธ ะบะปะฐััะฐ ะธ ะทะฐััะฐะฒะปัั ะบะปะฐัั ัะพะพัะฒะตัััะฒะพะฒะฐัั ะฟัะธะฝัะธะฟั ะตะดะธะฝััะฒะตะฝะฝะพะน ะพัะฒะตัััะฒะตะฝะฝะพััะธ.

ะขะตะฟะตัั ะฒั ะทะฝะฐะตัะต, ััะพ ะบะปะฐัั ConfirmationMailMailer ะฒัะฟะพะปะฝัะตั ัะปะธัะบะพะผ ะผะฝะพะณะพ ะทะฐะดะฐั. ะั ะผะพะถะตะผ (ะธ ะฒ ััะพะผ ัะปััะฐะต ะดะพะปะถะฝั) ะฟะตัะตะฟัะพะตะบัะธัะพะฒะฐัั ะตะณะพ, ะธะทะฒะปะตะบะฐั ะฒะทะฐะธะผะพะดะตะนััะฒัััะธะต ะบะปะฐััั. ะะพัะบะพะปัะบั ััะพั ะบะปะฐัั ะฟัะตะดััะฐะฒะปัะตั ัะพะฑะพะน ะฟะพััะพะฒัะน ะบะปะธะตะฝั, ะผั ะพััะฐะฒะปัะตะผ ะทะฐ ะฝะธะผ ะพัะฒะตัััะฒะตะฝะฝะพััั ะฟะพ ะพัะฟัะฐะฒะบะต ัะพะพะฑัะตะฝะธั ะฟะพะปัะทะพะฒะฐัะตะปั, ะฝะพ ัะฝะธะผะฐะตะผ ะพัะฒะตัััะฒะตะฝะฝะพััั ะทะฐ ัะพะทะดะฐะฝะธะต ัะพะพะฑัะตะฝะธั. ะกะพะทะดะฐะฝะธะต ัะพะพะฑัะตะฝะธั ะฝะตะผะฝะพะณะพ ัะปะพะถะฝะตะต, ัะตะผ ะฟัะพััะพะต ะธะฝััะฐะฝัะธัะพะฒะฐะฝะธะต ะพะฑัะตะบัะฐ, ะธ ััะตะฑัะตั ะฝะตัะบะพะปัะบะธั ะทะฐะฒะธัะธะผะพััะตะน. ะะดะตัั ะฝะตะพะฑัะพะดะธะผ ัะฟะตัะธะฐะปัะฝัะน ัะฐะฑัะธัะฝัะน ะบะปะฐัั โ ConfirmationMailFactory.

```python
class ConfirmationMailMailer:  
ย ยdef __init__(self, confirmation_mail_mactory: Any, mailer: Any):  
ย ย ย ยself.confirmation_mail_factory = confirmation_mail_mactory  
ย ย ย ยself.mailer = mailer  
  
ย ยdef sendTo(self, user: 'User') -> None:  
ย ย ย ยmessage = self.create_message_for(user)  
ย ย ย ยself.send_message(message)  
  
ย ยdef create_message_for(self, user: 'User') -> 'Message':  
ย ย ย ยreturn self.confirmation_mail_factory.create_message_for(user)  
  
ย ยdef send_message(self, message: 'Message') -> None:  
ย ย ย ยself.mailer.send(message)  
  
  
class ConfirmationMailFactory:  
ย ยdef __init__(self, templating: Any, translator: Any):  
ย ย ย ยself.templating = templating  
ย ย ย ยself.translator = translator  
  
ย ยdef create_message_for(self, user: 'User') -> Message:  
ย ย ย ย"""  
ย ย ย ยCreate an instance of Message based on the given user.  
ย ย ย ย"""  
ย ย ย ยmessage = ...  
ย ย ย ยreturn message
```

ะขะตะฟะตัั ะปะพะณะธะบะฐ ัะพะทะดะฐะฝะธั ะฟะธััะผะฐ ั ะฟะพะดัะฒะตัะถะดะตะฝะธะตะผ ะฟะพะผะตัะตะฝะฐ ะฒ ะบะปะฐัั `ConfirmationMailFactory`. ะะพะฑะพัะฝัะน ัััะตะบั ัะฐะบะพะณะพ ัะตัะฐะบัะพัะธะฝะณะฐ โ ะฑะพะปะตะต ะปัะณะบะพะต ัะตััะธัะพะฒะฐะฝะธะต ะพะฑะพะธั ะบะปะฐััะพะฒ, ัะฐะบ ะบะฐะบ ัะตะฟะตัั ะฒั ะผะพะถะตัะต ัะดะตะปะฐัั ััะพ ะฟะพ ะพัะดะตะปัะฝะพััะธ. ะะดะธะฝััะฒะตะฝะฝะฐั ะพัะฒะตัััะฒะตะฝะฝะพััั ะดะตะปะฐะตั ะบะปะฐัั ะผะตะฝััะต, ะฟะพััะพะผั ะฒะฐะผ ะฟัะตะดััะพะธั ะฟะธัะฐัั ะผะตะฝััะต ัะตััะพะฒ, ััะพะฑั ะตะณะพ ะพัะฒะฐัะธัั. ะัะพะผะต ัะพะณะพ, ะฒ ััะธั ะฝะตะฑะพะปััะธั ะบะปะฐััะฐั ะฑัะดะตั ะผะตะฝััะต ะทะฐะบััััั ะผะตัะพะดะพะฒ ั ัััะตะบัะฐะผะธ, ะบะพัะพััะต ะฝะตะพะฑัะพะดะธะผะพ ะฟัะพะฒะตัััั ั ะฟะพะผะพััั ะผะพะดัะปัะฝัั ัะตััะพะฒ. ะะฐะบะพะฝะตั, ะบะปะฐััั ะผะตะฝััะตะณะพ ัะฐะทะผะตัะฐ ะฟัะพัะต ะฟะพะดะดะตัะถะธะฒะฐัั, ะปะตะณัะต ะฟะพะฝะธะผะฐัั ะธั ะฝะฐะทะฝะฐัะตะฝะธะต, ะฐ ะฒัะต ะดะตัะฐะปะธ ัะตะฐะปะธะทะฐัะธะธ ะฝะฐัะพะดัััั ัะฐะผ, ะณะดะต ะธ ะดะพะปะถะฝั ะฑััั, โ ะฒ ะพัะฒะตัััะฒะตะฝะฝัั ะทะฐ ะฝะธั ะบะปะฐััะฐั.


----
๐ [[SOLID]]